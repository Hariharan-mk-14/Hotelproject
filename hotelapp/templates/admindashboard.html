
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/styles.css'}">
    <!-- <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>   -->
<script>    

var a= document.getElementById("room")
function toggle(){
    if (a.style.display== 'none'){
        a.style.display == 'block'
    }
    
}

</script>    

</head>
<body>
    <nav class="navbar navbar-dark bg-primary text-center">
        <div class="container">
            <a class="navbar-brand" href="#">Admin Dashboard</a>
            <a class="btn btn-light" href="{% url 'logout' %}">Logout</a>
            <a class="btn btn-light" href="{% url 'home' %}">Home</a>
        </div>
    </nav>

    <div class="row">
        {% for user in users %}
        <div class="col-md-4">
            <div class="card my-4 mb-4 p-4 shadow">
                <div class="card-body"><h5 class="card-title">{{ user.username }}</h5>
                <p class="card-text"><strong>Email:</strong>{{ user.email }}</p>
            <p class="card-text"><strong>Last Login:</strong>{{ user.last_login }}</p>
        <a href="{% url 'delete_user' user.id %}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">Delete User</a></div>
            </div>
        </div>
{% endfor %}
    </div>
    <div class=" text-center py-5  bg-primary shadow-lg rounded">
        <h3 class="text-center text-white mb-3 "> Update Rooms Here.</h3>
        <a id="b1" class="btn btn-light w-25 mx-auto" href="{% url 'update_rooms' %}">Update Rooms</a>
    </div>
    <div class="text-center py-5  bg-light shadow-lg rounded border">
        {% for message in messages %}
        {{ message }}
        {% endfor %}
    </div>
    <div  class="text-center py-5  bg-light shadow-lg rounded border ">
        <h1 class="text-center">Bookings</h1>
        <table id="booking" class="table border rounded mx-auto w-75"><tr><th>user</th><th>room</th><th>check in</th><th>check out</th><th>guests</th><th>total price</th><th>status</th><th>room id</th></tr>
        {% for book in bookings  %}
        <tr><td>{{ book.user }}</td><td>{{ book.room }}</td><td>{{ book.check_in }}</td><td>{{ book.check_out }}</td><td>{{ book.guests }}</td><td>{{ book.total_price }}</td><td>{{ book.status }}</td><td>{{ book.room_id }}</td><!--<td><a href="{% url 'cancel' book.room_id %}">cancel</a></td>--></tr>
        
       
        {% endfor %}
    </table>
</div>
<div   class="text-center py-5 mx-auto bg-light shadow-lg rounded border">
    <h1 class="text-center">Rooms</h1>
    <table id="room" class="table border rounded mx-auto w-75"><tr><th>image</th><th>room_type</th><th>price_per_night</th><th>total_rooms</th><th>room_id</th></tr>
        {% for room in rooms  %}
        <tr><td class="col-4"> <img src="{{ room.image.url }}" class="w-50 "></td><td>{{ room.room_type }}</td><td>{{ room.price_per_night }}</td><td>{{ room.total_rooms }}</td><td>{{ room.id }}</td> </tr>
        
       
        {% endfor %}
    </table>
</div>
       
    

</body>
</html>
